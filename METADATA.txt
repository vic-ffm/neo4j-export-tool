Neo4j Export JSONL Metadata Structure

This document describes the structure of the metadata found in line 1 of the Neo4j export JSONL files.

Overview

The first line of export file contains comprehensive metadata about the export

Metadata Structure

Root Level Fields

- format_version: "1.0.0" - Version of the metadata format specification

Export Metadata

Contains information about the export process itself:

"export_metadata": {
  "export_id": "77f72280-76e5-468b-8c6e-b32bed406e81",
  "export_timestamp_utc": "2025-07-02T12:37:00.0640070Z",
  "export_mode": "native_driver_streaming",
  "format": {
    "type": "jsonl",
    "metadata_line": 1,
    "node_start_line": 2,
    "relationship_start_line": 3612
  }
}

- export_id: Unique GUID identifying this specific export
- export_timestamp_utc: ISO 8601 timestamp of when the export started
- export_mode: The method used for export (always "native_driver_streaming")
- format: Information about the file format and line numbers where different record types begin

Producer Information

Details about the export tool that created the file:

"producer": {
  "name": "neo4j-export.dll",
  "version": "0.10.0",
  "checksum": "5ae243ccadaed8e35ba398cdb4ce5a573faee84a25c71512812736b6e4a68a0c",
  "runtime_version": "9.0.6"
}

- name: Executable name of the export tool
- version: Version of the export tool
- checksum: SHA256 hash of the export binary for verification
- runtime_version: .NET runtime version used

Source System

Information about the Neo4j database being exported:

"source_system": {
  "type": "neo4j",
  "version": "4.4.40",
  "edition": "community",
  "database": {
    "name": "neo4j"
  }
}

- type: Always "neo4j"
- version: Neo4j server version
- edition: Neo4j edition (community, enterprise)
- database: Specific database information including the database name

Error Summary

Summary of any errors or warnings during export:

"error_summary": {
  "error_count": 0,
  "warning_count": 0,
  "has_errors": false
}

Database Statistics

High-level statistics about the database content:

"database_statistics": {
  "nodeCount": 3610,
  "relCount": 4643,
  "labelCount": 68,
  "relTypeCount": 72
}

Database Schema

Complete schema information including all labels and relationship types:

"database_schema": {
  "labels": ["Person", "Organization", "Case", ...],
  "relationshipTypes": ["RELATED_TO", "ASSIGNED", "HAS_NOTE", ...]
}

Supported Record Types

Defines the structure of records in the file:

"supported_record_types": [
  {
    "type_name": "node",
    "description": "A graph node with labels and properties",
    "required_fields": ["type", "id", "export_id", "labels", "properties"]
  },
  {
    "type_name": "relationship",
    "description": "A directed relationship between two nodes",
    "required_fields": ["type", "id", "export_id", "label", "start", "end", "properties"]
  },
  {
    "type_name": "error",
    "description": "An error that occurred during export",
    "required_fields": ["type", "timestamp", "message"],
    "optional_fields": ["line", "details", "node_id", "relationship_id"]
  },
  {
    "type_name": "warning",
    "description": "A warning that occurred during export",
    "required_fields": ["type", "timestamp", "message"],
    "optional_fields": ["line", "details", "node_id", "relationship_id"]
  }
]

Environment Information

System environment where the export was performed:

"environment": {
  "hostname": "$HOSTNAME",
  "operating_system": "Unix 15.4.1",
  "user": "$USERNAME",
  "runtime": ".NET 9.0.6",
  "processors": 10,
  "memory_gb": 0.0007096752524375916
}

Security Information

Security settings used during export:

"security": {
  "encryption_enabled": false,
  "auth_method": "none",
  "data_validation": true
}

Compatibility Information

Version compatibility for readers:

"compatibility": {
  "minimum_reader_version": "1.0.0",
  "deprecated_fields": [],
  "breaking_change_version": "2.0.0"
}

Compression Hints

Recommendations for file compression:

"compression": {
  "recommended": "zstd",
  "compatible": ["zstd", "gzip", "brotli", "none"],
  "expected_ratio": 0.3,
  "suffix": ".jsonl.zst"
}

- recommended: The optimal compression algorithm for this data
- compatible: List of compression formats that work well with JSONL
- expected_ratio: Expected compression ratio (0.3 means ~70% size reduction)
- suffix: Recommended file extension when compressed

Export Manifest

Detailed performance metrics for the export:

"export_manifest": {
  "total_export_duration_seconds": 0.208669,
  "file_statistics": [
    {
      "label": "Person",
      "record_count": 7,
      "bytes_written": 1736,
      "export_duration_ms": 99
    },
    ...
  ]
}

Each entry in file_statistics contains:
- label: The node label
- record_count: Number of nodes with this label
- bytes_written: Total bytes written for nodes with this label
- export_duration_ms: Time in milliseconds to export this label

Reserved Fields

"_reserved": {
  "purpose": "JSONL streaming compatibility - enables single-pass export"
}

Padding

The metadata line includes a padding field with spaces to ensure the metadata can be updated in place without rewriting the entire file. 
This can be ignored by downstream consumers. 

Usage

This metadata structure enables:

1. Self-documentation: Files contain all information needed to understand their content
2. Version compatibility: Readers can check if they support the file format
3. Performance analysis: Export metrics help troubleshooting
4. Data validation: Record counts and checksums enable integrity verification
5. Schema discovery: Complete schema information without querying the database
6. Compression guidance: Optimal compression settings for storage efficiency